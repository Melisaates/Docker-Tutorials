FROM ubuntu:latest
WORKDIR /app
RUN apt-get update && apt-get install -y python3

COPY . .
EXPOSE 2222
CMD ["python3", "app.py"]
LABEL maintainer="Melisa Ates"
ENV APP_NAME="Ubuntu_project"
ENV APP_VERSION="1.0.0"
ENV PORT=2222
RUN echo "App name : $APP_NAME"
RUN echo "PORT : $PORT"
RUN echo "App version : $APP_VERSION"
VOLUME /temp
# Healthcheck to monitor the container's health 
# interval means how often to run the check
# timeout means how long to wait for the check to complete
# start-period means how long to wait before starting checks
# retries means how many consecutive failures are allowed before marking the container as unhealthy
HEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \
 CMD curl -f http://localhost:2222/ || exit 1   

